.search {
  @include flexbox-display;
  position: relative;
  margin-bottom: $padding-unit;
  .is-first,
  & > :first-child,
  // specificity with input-group
  & > :first-child .search_input {
    border-top-left-radius: $form-input-radius;
    border-bottom-left-radius: $form-input-radius;
  }
  .is-last,
  & > :last-child {
    border-top-right-radius: $form-input-radius;
    border-bottom-right-radius: $form-input-radius;
  }
}
.search--dark {
  .search_input,
  .search_select {
    background-color: darken($background-color, 5%);
    border-color: darken($background-color, 7%);
    &:focus {
      border-color: $color-primary;
    }
  }
}
.search--light {
  .search_input,
  .search_select {
    background-color: rgba(255,255,255,0.16);
    border-color: transparent;
    color: #fff;
    @include placeholder(rgba(255,255,255,0.7));
    &:focus {
      background-color: rgba(255,255,255,0.24);
      box-shadow: 0 1px 8px rgba(0,0,0,0.08);
      border-color: transparent;
      color: #fff;
    }
  }
  option {
    color: $text-color-base;
  }
  .search_icon {
    .icon {
      fill: rgba(255,255,255,0.8);
    }
  }
}

.search_bar {
  display: block;
  position: relative;
  width: 100%;
  .input-group & {
    flex: 3;
    .search_input {
      margin-left: 0;
      width: 100%;
    }
  }
  &:focus-within {
    .search_icon {
      color: $color-primary;
    }
  }
}
.search_input {
  padding-left: 36px;
}
.search_input,
.search_select {
  background-color: $background-color;
  border-color: darken($background-color, 2%);
  transition: background-color .2s ease, border-color .2s ease;
}
.search_icon {
  position: absolute;
  font-size: 0;
  left: 12px;
  top: 50%;
  z-index: 4;
  @include translateY(-50%);
  .icon {
    @include square(18px);
    fill: currentColor;
  }
}
